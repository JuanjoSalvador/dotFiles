(function() {
  module.exports = function(colorPicker) {
    return {
      element: null,
      activate: function() {
        var _halfArrowWidth;
        _halfArrowWidth = null;
        this.element = {
          el: (function() {
            var _classPrefix, _el;
            _classPrefix = colorPicker.element.el.className;
            _el = document.createElement('div');
            _el.classList.add(_classPrefix + "-arrow");
            return _el;
          })(),
          addClass: function(className) {
            this.el.classList.add(className);
            return this;
          },
          removeClass: function(className) {
            this.el.classList.remove(className);
            return this;
          },
          hasClass: function(className) {
            return this.el.classList.contains(className);
          },
          width: function() {
            return this.el.offsetWidth;
          },
          height: function() {
            return this.el.offsetHeight;
          },
          setPosition: function(x) {
            this.el.style.left = x + "px";
            return this;
          },
          previousColor: null,
          setColor: function(smartColor) {
            var _color;
            _color = (typeof smartColor.toRGBA === "function" ? smartColor.toRGBA() : void 0) || 'none';
            if (this.previousColor && this.previousColor === _color) {
              return;
            }
            this.el.style.borderTopColor = _color;
            this.el.style.borderBottomColor = _color;
            return this.previousColor = _color;
          }
        };
        colorPicker.element.add(this.element.el);
        setTimeout((function(_this) {
          return function() {
            return _halfArrowWidth = (_this.element.width() / 2) << 0;
          };
        })(this));
        setTimeout((function(_this) {
          return function() {
            var _newHeight;
            _newHeight = colorPicker.element.height() + _this.element.height();
            return colorPicker.element.setHeight(_newHeight);
          };
        })(this));
        setTimeout((function(_this) {
          return function() {
            var Alpha;
            Alpha = colorPicker.getExtension('Alpha');
            Alpha.onColorChanged(function(smartColor) {
              if (smartColor) {
                return _this.element.setColor(smartColor);
              } else {
                return colorPicker.SmartColor.HEX('#f00');
              }
            });
          };
        })(this));
        colorPicker.onInputVariable((function(_this) {
          return function() {
            return _this.element.setColor(colorPicker.SmartColor.RGBAArray([0, 0, 0, 0]));
          };
        })(this));
        colorPicker.onInputVariableColor((function(_this) {
          return function(smartColor) {
            if (!smartColor) {
              return;
            }
            return _this.element.setColor(smartColor);
          };
        })(this));
        colorPicker.onPositionChange((function(_this) {
          return function(position, colorPickerPosition) {
            return _this.element.setPosition(position.x - colorPickerPosition.x);
          };
        })(this));
        return this;
      }
    };
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvanVhbmpvLy5hdG9tL3BhY2thZ2VzL2NvbG9yLXBpY2tlci9saWIvZXh0ZW5zaW9ucy9BcnJvdy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBS0k7RUFBQSxNQUFNLENBQUMsT0FBUCxHQUFpQixTQUFDLFdBQUQ7V0FDYjtNQUFBLE9BQUEsRUFBUyxJQUFUO01BS0EsUUFBQSxFQUFVLFNBQUE7QUFDTixZQUFBO1FBQUEsZUFBQSxHQUFrQjtRQUlsQixJQUFDLENBQUEsT0FBRCxHQUNJO1VBQUEsRUFBQSxFQUFPLENBQUEsU0FBQTtBQUNILGdCQUFBO1lBQUEsWUFBQSxHQUFlLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1lBQ3RDLEdBQUEsR0FBTSxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUF2QjtZQUNOLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBZCxDQUFzQixZQUFGLEdBQWdCLFFBQXBDO0FBRUEsbUJBQU87VUFMSixDQUFBLENBQUgsQ0FBQSxDQUFKO1VBT0EsUUFBQSxFQUFVLFNBQUMsU0FBRDtZQUFlLElBQUMsQ0FBQSxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQWQsQ0FBa0IsU0FBbEI7QUFBNkIsbUJBQU87VUFBbkQsQ0FQVjtVQVFBLFdBQUEsRUFBYSxTQUFDLFNBQUQ7WUFBZSxJQUFDLENBQUEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFkLENBQXFCLFNBQXJCO0FBQWdDLG1CQUFPO1VBQXRELENBUmI7VUFTQSxRQUFBLEVBQVUsU0FBQyxTQUFEO21CQUFlLElBQUMsQ0FBQSxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQWQsQ0FBdUIsU0FBdkI7VUFBZixDQVRWO1VBV0EsS0FBQSxFQUFPLFNBQUE7bUJBQUcsSUFBQyxDQUFBLEVBQUUsQ0FBQztVQUFQLENBWFA7VUFZQSxNQUFBLEVBQVEsU0FBQTttQkFBRyxJQUFDLENBQUEsRUFBRSxDQUFDO1VBQVAsQ0FaUjtVQWdC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LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgIENvbG9yIFBpY2tlci9leHRlbnNpb25zOiBBcnJvd1xuIyAgQW4gYXJyb3cgcG9pbnRpbmcgYXQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIG1vZHVsZS5leHBvcnRzID0gKGNvbG9yUGlja2VyKSAtPlxuICAgICAgICBlbGVtZW50OiBudWxsXG5cbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAjICBDcmVhdGUgYW5kIGFjdGl2YXRlIEFycm93XG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGFjdGl2YXRlOiAtPlxuICAgICAgICAgICAgX2hhbGZBcnJvd1dpZHRoID0gbnVsbFxuXG4gICAgICAgICMgIENyZWF0ZSBlbGVtZW50XG4gICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBAZWxlbWVudCA9XG4gICAgICAgICAgICAgICAgZWw6IGRvIC0+XG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc1ByZWZpeCA9IGNvbG9yUGlja2VyLmVsZW1lbnQuZWwuY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgICAgIF9lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ2RpdidcbiAgICAgICAgICAgICAgICAgICAgX2VsLmNsYXNzTGlzdC5hZGQgXCIjeyBfY2xhc3NQcmVmaXggfS1hcnJvd1wiXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9lbFxuICAgICAgICAgICAgICAgICMgVXRpbGl0eSBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogKGNsYXNzTmFtZSkgLT4gQGVsLmNsYXNzTGlzdC5hZGQgY2xhc3NOYW1lOyByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiAoY2xhc3NOYW1lKSAtPiBAZWwuY2xhc3NMaXN0LnJlbW92ZSBjbGFzc05hbWU7IHJldHVybiB0aGlzXG4gICAgICAgICAgICAgICAgaGFzQ2xhc3M6IChjbGFzc05hbWUpIC0+IEBlbC5jbGFzc0xpc3QuY29udGFpbnMgY2xhc3NOYW1lXG5cbiAgICAgICAgICAgICAgICB3aWR0aDogLT4gQGVsLm9mZnNldFdpZHRoXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAtPiBAZWwub2Zmc2V0SGVpZ2h0XG5cbiAgICAgICAgICAgICAgICAjIFNldCBBcnJvdyBwb3NpdGlvblxuICAgICAgICAgICAgICAgICMgLSB4IHtOdW1iZXJ9XG4gICAgICAgICAgICAgICAgc2V0UG9zaXRpb246ICh4KSAtPlxuICAgICAgICAgICAgICAgICAgICBAZWwuc3R5bGUubGVmdCA9IFwiI3sgeCB9cHhcIlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuXG4gICAgICAgICAgICAgICAgIyBTZXQgdGhlIENvbG9yIGVsZW1lbnQgYmFja2dyb3VuZCBjb2xvclxuICAgICAgICAgICAgICAgIHByZXZpb3VzQ29sb3I6IG51bGxcbiAgICAgICAgICAgICAgICBzZXRDb2xvcjogKHNtYXJ0Q29sb3IpIC0+XG4gICAgICAgICAgICAgICAgICAgIF9jb2xvciA9IHNtYXJ0Q29sb3IudG9SR0JBPygpIG9yICdub25lJ1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWYgQHByZXZpb3VzQ29sb3IgYW5kIEBwcmV2aW91c0NvbG9yIGlzIF9jb2xvclxuXG4gICAgICAgICAgICAgICAgICAgIEBlbC5zdHlsZS5ib3JkZXJUb3BDb2xvciA9IF9jb2xvclxuICAgICAgICAgICAgICAgICAgICBAZWwuc3R5bGUuYm9yZGVyQm90dG9tQ29sb3IgPSBfY29sb3JcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEBwcmV2aW91c0NvbG9yID0gX2NvbG9yXG4gICAgICAgICAgICBjb2xvclBpY2tlci5lbGVtZW50LmFkZCBAZWxlbWVudC5lbFxuXG4gICAgICAgICMgIEdldCBhbmQgc2F2ZSBhcnJvdyB3aWR0aFxuICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgc2V0VGltZW91dCA9PiBfaGFsZkFycm93V2lkdGggPSAoQGVsZW1lbnQud2lkdGgoKSAvIDIpIDw8IDBcblxuICAgICAgICAjICBJbmNyZWFzZSBDb2xvciBQaWNrZXIgaGVpZ2h0XG4gICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBzZXRUaW1lb3V0ID0+XG4gICAgICAgICAgICAgICAgX25ld0hlaWdodCA9IGNvbG9yUGlja2VyLmVsZW1lbnQuaGVpZ2h0KCkgKyBAZWxlbWVudC5oZWlnaHQoKVxuICAgICAgICAgICAgICAgIGNvbG9yUGlja2VyLmVsZW1lbnQuc2V0SGVpZ2h0IF9uZXdIZWlnaHRcblxuICAgICAgICAjICBTZXQgQXJyb3cgY29sb3Igb24gQWxwaGEgY2hhbmdlXG4gICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBzZXRUaW1lb3V0ID0+ICMgd2FpdCBmb3IgdGhlIERPTVxuICAgICAgICAgICAgICAgIEFscGhhID0gY29sb3JQaWNrZXIuZ2V0RXh0ZW5zaW9uICdBbHBoYSdcblxuICAgICAgICAgICAgICAgIEFscGhhLm9uQ29sb3JDaGFuZ2VkIChzbWFydENvbG9yKSA9PlxuICAgICAgICAgICAgICAgICAgICBpZiBzbWFydENvbG9yIHRoZW4gQGVsZW1lbnQuc2V0Q29sb3Igc21hcnRDb2xvclxuICAgICAgICAgICAgICAgICAgICAjIERlZmF1bHQgdG8gI2YwMCByZWRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBjb2xvclBpY2tlci5TbWFydENvbG9yLkhFWCAnI2YwMCdcbiAgICAgICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAjICBTZXQgQXJyb3cgY29sb3IgdG8gdHJhbnNwYXJlbnQgd2hlbiBhIHZhcmlhYmxlIGlzIGlucHV0XG4gICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBjb2xvclBpY2tlci5vbklucHV0VmFyaWFibGUgPT5cbiAgICAgICAgICAgICAgICBAZWxlbWVudC5zZXRDb2xvciBjb2xvclBpY2tlci5TbWFydENvbG9yLlJHQkFBcnJheSBbMCwgMCwgMCwgMF1cblxuICAgICAgICAjICAuLi4gYnV0IHNldCBpdCB0byB0aGUgdmFyaWFibGUgY29sb3Igd2hlbiB0aGF0IGlzIGZvdW5kXG4gICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBjb2xvclBpY2tlci5vbklucHV0VmFyaWFibGVDb2xvciAoc21hcnRDb2xvcikgPT5cbiAgICAgICAgICAgICAgICByZXR1cm4gdW5sZXNzIHNtYXJ0Q29sb3JcbiAgICAgICAgICAgICAgICBAZWxlbWVudC5zZXRDb2xvciBzbWFydENvbG9yXG5cbiAgICAgICAgIyAgUGxhY2UgdGhlIEFycm93XG4gICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBjb2xvclBpY2tlci5vblBvc2l0aW9uQ2hhbmdlIChwb3NpdGlvbiwgY29sb3JQaWNrZXJQb3NpdGlvbikgPT5cbiAgICAgICAgICAgICAgICBAZWxlbWVudC5zZXRQb3NpdGlvbiBwb3NpdGlvbi54IC0gY29sb3JQaWNrZXJQb3NpdGlvbi54XG4gICAgICAgICAgICByZXR1cm4gdGhpc1xuIl19
